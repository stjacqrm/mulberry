//#########################
//###Pipeline Parameters###
//#########################

//starting parameters
params.reads = ""
params.title = "Mulberry Analysis"
params.outdir = "mulberry_results"


//PreProcessing
params.name_split_on=""

//Trimming
params.minlength=75
params.windowsize=4
params.qualitytrimscore=30
params.savetrimmedreads=false

//#####################
//####Docker Params####
//#####################

docker.enabled = true
docker.runOptions = "-u \$(id -u):\$(id -g)"

//####################
//#Singularity Params#
//####################
//singularity.enabled = true
//singularity.runOptions = ""
//process.stageInMode = "copy"

//####################
//##AWS Batch Params##
//####################
//process.executor = 'awsbatch'
//process.queue = ''
//aws.batch.cliPath = '/home/ec2-user/miniconda/bin/aws'
//aws.region = 'us-east-1'
//workDir = 's3://'

//#######################
//##Google Cloud Params##
//#######################
//process.executor = ''
//google.project = ''
//google.location = ''
//google.region = ''
//workDir = ''
//google.lifeSciences.bootDiskSize = 50.GB

//##################
//##Nextflow Tower##
//##################
//tower.accessToken = ''
//tower.enabled = true

//#######################
//###Docker Containers###
//#######################

//gamma_container = 'staphb/gamma:1.4'
amrfinder_container = 'staphb/ncbi-amrfinderplus:3.10.20'
render_container = 'mulberry-report-env'
trimmomatic_container = 'staphb/trimmomatic:0.39'
bbtools_container = 'staphb/bbtools:38.76'
fastqc_container = 'staphb/fastqc:0.11.8'
shovill_container = 'staphb/shovill:1.1.0'
multiqc_container = 'staphb/multiqc:1.8'
quast_container = 'staphb/quast:5.0.2'

process {
  errorStrategy = 'retry'
  maxRetries = 1
  cpus = 8
  memory = '31 GB'

  withName:fastqc{
    container = fastqc_container
  }
  withName:trim{
    container = trimmomatic_container
  }
  withName:cleanreads{
    container = bbtools_container
  }
  withName:shovill{
    container = shovill_container
  }
//  withName:gamma{
//    container = alignment_container
//  }
  withName:amrfinder{
    container = amrfinder_container
  }
  withName:quast{
   container = quast_container
  }
  withName:render{
  container = render_container
  }
}
